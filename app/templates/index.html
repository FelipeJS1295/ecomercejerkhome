{% extends "base.html" %}

{% block title %}Black Jerk Home - Ofertas Especiales Black Friday{% endblock %}

{% block description %}Black Jerk Home - Descuentos incre√≠bles en muebles tapizados durante Black Friday. Sof√°s, seccionales, poltronas y m√°s con hasta 50% de descuento.{% endblock %}

{% block content %}
<!-- Hero Section - Black Friday Theme -->
<section class="relative overflow-hidden h-screen">
    <!-- Imagen de fondo principal con overlay m√°s dram√°tico -->
    {% if config.banner_imagen %}
    <div class="absolute inset-0">
        <img src="{{ url_for('static', path='/images/config/' + config.banner_imagen) }}" 
             alt="Black Jerk Home" 
             class="w-full h-full object-cover brightness-50"
             onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
        
        <!-- Overlay dram√°tico para Black Friday -->
        <div class="absolute inset-0 bg-gradient-to-br from-black/80 via-black/60 to-red-900/40"></div>
    </div>
    {% else %}
    <!-- Fallback gradient background - Black Friday theme -->
    <div class="absolute inset-0 bg-gradient-to-br from-black via-gray-900 to-red-900"></div>
    {% endif %}
    
    <!-- Elementos decorativos flotantes -->
    <div class="absolute inset-0 overflow-hidden">
        <div class="absolute top-1/4 left-1/4 w-2 h-2 bg-accent-red rounded-full animate-pulse opacity-60"></div>
        <div class="absolute top-1/3 right-1/3 w-1 h-1 bg-accent-orange rounded-full animate-ping opacity-40"></div>
        <div class="absolute bottom-1/4 right-1/4 w-3 h-3 bg-accent-red rounded-full animate-pulse opacity-50"></div>
    </div>
    
    <!-- Contenido centrado -->
    <div class="relative z-10 flex items-center justify-center h-full">
        <div class="text-center max-w-5xl mx-auto px-4">
            
            <!-- Badge Black Friday -->
            <div class="mb-8">
                <div class="inline-flex items-center px-6 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white text-sm font-bold rounded-full border border-red-500 animate-pulse shadow-lg shadow-red-500/30">
                    <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12,2L13.09,8.26L22,9L13.09,9.74L12,16L10.91,9.74L2,9L10.91,8.26L12,2Z"/>
                    </svg>
                    BLACK FRIDAY 2025
                    <svg class="w-4 h-4 ml-2" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12,2L13.09,8.26L22,9L13.09,9.74L12,16L10.91,9.74L2,9L10.91,8.26L12,2Z"/>
                    </svg>
                </div>
            </div>
            
            <!-- T√≠tulo principal con efecto Black Friday -->
            <div class="mb-8">
                <div class="mb-6">
                    <h1 class="text-5xl md:text-7xl font-bold leading-tight tracking-tight">
                        <span class="text-white">Black </span>
                        <span class="text-accent-orange">Jerk</span><span class="text-white">home</span>
                    </h1>
                    <div class="w-40 h-1 bg-gradient-to-r from-red-600 via-accent-orange to-red-600 mx-auto mt-4 animate-pulse"></div>
                </div>
                
                <!-- Descuento destacado -->
                <div class="bg-gradient-to-r from-red-600 to-red-700 text-white px-8 py-4 rounded-2xl inline-block mb-6 transform hover:scale-105 transition-transform duration-300 shadow-2xl">
                    <span class="text-4xl md:text-5xl font-black">HASTA 50% OFF</span>
                    <div class="text-lg font-semibold opacity-90">En toda la colecci√≥n</div>
                </div>
            </div>
            
            <!-- Descripci√≥n especial Black Friday -->
            <p class="text-xl md:text-2xl text-white/90 mb-8 font-light leading-relaxed">
                Los descuentos m√°s grandes del a√±o en muebles tapizados premium
            </p>
            
            <!-- Contador regresivo funcional para 5 d√≠as -->
            <div class="mb-12">
                <div class="text-white/80 text-sm font-semibold mb-4">¬°OFERTA LIMITADA - SOLO 5 D√çAS!</div>
                <div class="flex justify-center space-x-4 text-white" id="countdown">
                    <div class="bg-black/50 backdrop-blur-sm px-4 py-3 rounded-lg border border-red-500/30">
                        <div class="text-2xl font-bold text-accent-orange" id="days">05</div>
                        <div class="text-xs uppercase">D√≠as</div>
                    </div>
                    <div class="bg-black/50 backdrop-blur-sm px-4 py-3 rounded-lg border border-red-500/30">
                        <div class="text-2xl font-bold text-accent-orange" id="hours">00</div>
                        <div class="text-xs uppercase">Horas</div>
                    </div>
                    <div class="bg-black/50 backdrop-blur-sm px-4 py-3 rounded-lg border border-red-500/30">
                        <div class="text-2xl font-bold text-accent-orange" id="minutes">00</div>
                        <div class="text-xs uppercase">Min</div>
                    </div>
                    <div class="bg-black/50 backdrop-blur-sm px-4 py-3 rounded-lg border border-red-500/30">
                        <div class="text-2xl font-bold text-accent-orange" id="seconds">00</div>
                        <div class="text-xs uppercase">Seg</div>
                    </div>
                </div>
            </div>

            <script>
            // Configurar contador para 5 d√≠as desde hoy
            const targetDate = new Date();
            targetDate.setDate(targetDate.getDate() + 5);
            targetDate.setHours(23, 59, 59, 999); // Hasta el final del quinto d√≠a

            function updateCountdown() {
                const now = new Date().getTime();
                const distance = targetDate.getTime() - now;

                if (distance > 0) {
                    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                    document.getElementById('days').textContent = days.toString().padStart(2, '0');
                    document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
                    document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
                    document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
                } else {
                    // Si el tiempo se agota, mostrar mensaje
                    document.getElementById('countdown').innerHTML = '<div class="text-red-400 text-xl font-bold">¬°OFERTA FINALIZADA!</div>';
                }
            }

            // Actualizar cada segundo
            updateCountdown();
            setInterval(updateCountdown, 1000);
            </script>
                
                <a href="/categorias" class="inline-flex items-center px-10 py-4 border-2 border-white text-white text-lg font-semibold rounded-xl hover:bg-white hover:text-black transition-all duration-300 transform hover:scale-105">
                    <span>Explorar Cat√°logo</span>
                    <svg class="w-6 h-6 ml-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                    </svg>
                </a>
            </div>
        </div>
    </div>
    
    <!-- Indicador de scroll con tema Black Friday -->
    <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
        <div class="flex flex-col items-center">
            <div class="text-white/60 text-xs mb-2">DESCUBRE M√ÅS</div>
            <svg class="w-6 h-6 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
            </svg>
        </div>
    </div>
</section>

<!-- Hot Deals Banner -->
<section class="py-4 bg-gradient-to-r from-red-600 via-red-700 to-red-600 overflow-hidden">
    <div class="flex animate-marquee whitespace-nowrap">
        <span class="text-white font-bold text-lg mx-8">üî• BLACK FRIDAY: HASTA 50% OFF</span>
        <span class="text-white font-bold text-lg mx-8">‚ö° ENV√çO GRATIS EN COMPRAS SOBRE $100.000</span>
        <span class="text-white font-bold text-lg mx-8">üéØ HASTA 3 CUOTAS PRECIO CONTADO</span>
        <span class="text-white font-bold text-lg mx-8">üî• DESCUENTOS EXCLUSIVOS ONLINE</span>
        <span class="text-white font-bold text-lg mx-8">‚ö° STOCK LIMITADO</span>
        <span class="text-white font-bold text-lg mx-8">üéØ OFERTAS POR TIEMPO LIMITADO</span>
        <!-- Repetir contenido para efecto continuo -->
        <span class="text-white font-bold text-lg mx-8">üî• BLACK FRIDAY: HASTA 50% OFF</span>
        <span class="text-white font-bold text-lg mx-8">‚ö° ENV√çO GRATIS EN COMPRAS SOBRE $100.000</span>
        <span class="text-white font-bold text-lg mx-8">üéØ HASTA 3 CUOTAS PRECIO CONTADO</span>
        <span class="text-white font-bold text-lg mx-8">üî• DESCUENTOS EXCLUSIVOS ONLINE</span>
        <span class="text-white font-bold text-lg mx-8">‚ö° STOCK LIMITADO</span>
        <span class="text-white font-bold text-lg mx-8">üéØ OFERTAS POR TIEMPO LIMITADO</span>
    </div>
</section>

<style>
@keyframes marquee {
    0% {
        transform: translateX(0%);
    }
    100% {
        transform: translateX(-50%);
    }
}

.animate-marquee {
    animation: marquee 20s linear infinite;
}
</style>

<!-- Categories Section - Black Friday Edition -->
<section class="py-20 bg-gradient-to-br from-black via-gray-900 to-black">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        
        <!-- Section Header -->
        <div class="text-center mb-16">
            <div class="inline-flex items-center px-6 py-2 bg-red-600/20 border border-red-500/30 text-red-400 text-sm font-bold rounded-full mb-6">
                OFERTAS BLACK FRIDAY
            </div>
            <h2 class="text-4xl md:text-5xl font-bold text-white mb-6">
                Categor√≠as en <span class="text-red-500">Oferta</span>
            </h2>
            <p class="text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed">
                Descuentos √∫nicos en toda nuestra colecci√≥n de muebles tapizados premium
            </p>
            <div class="w-32 h-1 bg-gradient-to-r from-red-600 to-accent-orange mx-auto mt-8"></div>
        </div>
        
        <!-- Categories Grid con descuentos -->
        <div class="grid lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
            {% for categoria in categorias[:3] %}
            <div class="group relative bg-gray-800/50 backdrop-blur-sm rounded-2xl overflow-hidden hover:bg-gray-700/50 transition-all duration-500 hover:shadow-2xl hover:shadow-red-500/20 border border-gray-700 hover:border-red-500/50 transform hover:scale-105">
                
                <!-- Discount Badge -->
                <div class="absolute top-4 right-4 z-20 bg-gradient-to-r from-red-600 to-red-700 text-white px-3 py-1 rounded-full text-sm font-bold shadow-lg">
                    {% if loop.index == 1 %}50% OFF{% elif loop.index == 2 %}40% OFF{% else %}35% OFF{% endif %}
                </div>
                
                <!-- Category Image -->
                <div class="relative h-96 overflow-hidden">
                    {% if categoria.imagen %}
                    <img src="{{ url_for('static', path='/images/categorias/' + categoria.imagen) }}" 
                         alt="{{ categoria.nombre }}" 
                         class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 brightness-75"
                         onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    {% endif %}
                    
                    <!-- Fallback con icono cuando no hay imagen -->
                    <div class="w-full h-full bg-gradient-to-br from-red-600 to-red-800 flex items-center justify-center {% if categoria.imagen %}hidden{% endif %}" {% if categoria.imagen %}style="display:none;"{% endif %}>
                        {% if categoria.nombre.lower() == 'sofas' %}
                        <svg class="w-20 h-20 text-white" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M20,9V7A2,2 0 0,0 18,5H16A2,2 0 0,0 14,7V9A3,3 0 0,0 11,12V16A1,1 0 0,0 12,17H12.8L13,19H15L14.8,17H17.2L17,19H19L18.2,17H19A1,1 0 0,0 20,16V12A3,3 0 0,0 20,9M16,7H18V9H16V7Z"/>
                        </svg>
                        {% elif categoria.nombre.lower() == 'seccionales' %}
                        <svg class="w-20 h-20 text-white" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M3,11V16A1,1 0 0,0 4,17H5L5.2,19H7.2L7,17H17L17.2,19H19.2L19,17H20A1,1 0 0,0 21,16V11A3,3 0 0,0 18,8V6A2,2 0 0,0 16,4H14A2,2 0 0,0 12,6V8H8V6A2,2 0 0,0 6,4H4A2,2 0 0,0 2,6V8A3,3 0 0,0 3,11M4,6H6V8H4V6M14,6H16V8H14V6Z"/>
                        </svg>
                        {% elif categoria.nombre.lower() == 'poltronas' %}
                        <svg class="w-20 h-20 text-white" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M7,14V11A4,4 0 0,1 11,7H13A4,4 0 0,1 17,11V14H19A1,1 0 0,1 20,15V16A1,1 0 0,1 19,17H18.8L19,19H17L18.8,17H5.2L5,19H3L3.2,17H5A1,1 0 0,1 4,16V15A1,1 0 0,1 5,14H7Z"/>
                        </svg>
                        {% elif categoria.nombre.lower() == 'camas' %}
                        <svg class="w-20 h-20 text-white" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M19,7H5A3,3 0 0,0 2,10V17H4V15H20V17H22V10A3,3 0 0,0 19,7M4,10A1,1 0 0,1 5,9H19A1,1 0 0,1 20,10V13H4V10Z"/>
                        </svg>
                        {% elif categoria.nombre.lower() == 'respaldos' %}
                        <svg class="w-20 h-20 text-white" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12,2A2,2 0 0,1 14,4V8A2,2 0 0,1 12,10A2,2 0 0,1 10,8V4A2,2 0 0,1 12,2M19,7H16V9H19A1,1 0 0,1 20,10V15H22V10A3,3 0 0,0 19,7M5,7A3,3 0 0,0 2,10V15H4V10A1,1 0 0,1 5,9H8V7H5Z"/>
                        </svg>
                        {% elif categoria.nombre.lower() == 'living' %}
                        <svg class="w-20 h-20 text-white" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M8,5V7H16V5H21V19H3V5H8M6,9V17H18V9H6M8,11H10V15H8V11M14,11H16V15H14V11Z"/>
                        </svg>
                        {% else %}
                        <svg class="w-20 h-20 text-white" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2L2 7v10c0 5.55 3.84 10 9 10s9-4.45 9-10V7l-10-5z"/>
                        </svg>
                        {% endif %}
                    </div>
                    
                    <!-- Overlay gradient m√°s intenso -->
                    <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/30 to-transparent"></div>
                    
                    <!-- Nombre de categor√≠a superpuesto -->
                    <div class="absolute bottom-0 left-0 right-0 p-6">
                        <h3 class="text-2xl font-bold text-white drop-shadow-lg group-hover:text-red-400 transition-all duration-300">
                            {{ categoria.nombre }}
                        </h3>
                        <div class="text-red-400 font-semibold mt-1">
                            {% if loop.index == 1 %}Desde $5.990{% elif loop.index == 2 %}Desde $59.990{% else %}Desde $189.990{% endif %}
                        </div>
                    </div>
                    
                    <!-- Hover effect overlay -->
                    <div class="absolute inset-0 bg-red-600/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                </div>
                
                <!-- Content -->
                <div class="p-6">
                    <p class="text-gray-300 mb-6 leading-relaxed line-clamp-3">
                        {{ categoria.descripcion }}
                    </p>
                    
                    <div class="flex items-center justify-between">
                        <a href="/categoria/{{ categoria.nombre.lower() }}" 
                           class="inline-flex items-center text-red-400 font-semibold hover:text-red-300 transition-colors group-hover:translate-x-2 transform duration-300">
                            <span>Ver Ofertas</span>
                            <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                            </svg>
                        </a>
                        
                        <!-- Etiqueta de urgencia -->
                        <span class="text-sm text-red-400 bg-red-900/30 px-3 py-1 rounded-full border border-red-500/30 animate-pulse">
                            Stock limitado
                        </span>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Black Friday Features Section -->
<section class="py-16 bg-gray-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid md:grid-cols-4 gap-8">
            
            <div class="text-center group">
                <div class="w-16 h-16 bg-gradient-to-br from-red-600 to-red-700 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
                    </svg>
                </div>
                <h3 class="text-xl font-bold text-white mb-2">Hasta 50% OFF</h3>
                <p class="text-gray-300">Los mejores descuentos del a√±o en muebles premium</p>
            </div>
            
            <div class="text-center group">
                <div class="w-16 h-16 bg-gradient-to-br from-red-600 to-red-700 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                    </svg>
                </div>
                <h3 class="text-xl font-bold text-white mb-2">Env√≠o Gratis</h3>
                <p class="text-gray-300">En compras sobre $100.000 durante Black Friday</p>
            </div>
            
            <div class="text-center group">
                <div class="w-16 h-16 bg-gradient-to-br from-red-600 to-red-700 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
                    </svg>
                </div>
                <h3 class="text-xl font-bold text-white mb-2">Hasta 3 Cuotas</h3>
                <p class="text-gray-300">Precio contado sin intereses adicionales</p>
            </div>
            
            <div class="text-center group">
                <div class="w-16 h-16 bg-gradient-to-br from-red-600 to-red-700 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                    </svg>
                </div>
                <h3 class="text-xl font-bold text-white mb-2">Ofertas Limitadas</h3>
                <p class="text-gray-300">Stock limitado - No te quedes sin el tuyo</p>
            </div>
        </div>
    </div>
</section>

<!-- Urgency Footer Banner -->

{% endblock %}